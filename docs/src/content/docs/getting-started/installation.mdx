---
title: Installation
description: Install cross.stream using cargo or homebrew
sidebar:
  order: 1
---

import { Aside, Tabs, TabItem } from '@astrojs/starlight/components';

import { Link } from '../../../utils/links';

<Tabs syncKey="installer">

<TabItem label="brew">
```sh
brew install cablehead/tap/cross-stream
```

Optionally start the store as a background service. This creates a store at the default location that [xs.nu commands](../first-stream/) will use automatically:

```sh
brew services start cablehead/tap/cross-stream
```
</TabItem>

<TabItem label="eget">
[eget](https://github.com/zyedidia/eget) downloads prebuilt binaries from GitHub releases. We use [dagger](https://dagger.io) to run pipelines that generate binaries for macOS (ARM64), Linux (AMD64), and Linux (ARM64). See [our build pipeline](https://github.com/cablehead/xs/blob/main/.dagger/main.go) if you're interested in adding more platforms.

If you don't have eget yet:

```sh
curl https://zyedidia.github.io/eget.sh | sh
```

Then install `xs`:

```sh
eget cablehead/xs
```
</TabItem>

<TabItem label="cargo">
```sh
cargo install cross-stream --locked
```
</TabItem>

<TabItem label="docker">
Run `xs` in a container with a pre-built image:

```sh
docker pull ghcr.io/cablehead/xs:latest
```

Start a container with a persistent store:

```sh
docker run -d --init --name cross-stream -p 3021:3021 -v xs-store:/app/store ghcr.io/cablehead/xs:latest
```

The container exposes the HTTP API on port 3021. You can connect to the store in several ways:

Using curl for HTTP API access:

```sh
curl http://localhost:3021/
```

Or run commands directly inside the container:

```sh
docker exec cross-stream xs cat /app/store
```

For an interactive Nushell session with xs.nu commands available:

```sh
docker exec -it cross-stream nu
```

You can now run xs.nu commands like:

```nushell
.cat
```
</TabItem>

<TabItem label="nix">
Install directly using the xs flake:

```sh
nix profile install github:cablehead/xs
```

Or use the development shell with all Rust tooling, the `xs` executable, and Nushell pre-configured:

```sh
nix develop github:cablehead/xs
```

This starts an interactive Nushell session with the `xs` command and `xs.nu` commands available. Press Ctrl+D or type `exit` to return to your previous shell.

For bash users who prefer not to auto-start Nushell:

```sh
nix develop github:cablehead/xs#bash
```

This provides the same `xs` executable and Rust tooling without auto-starting Nushell.

You can also add xs to your own flake:

```nix
{
  inputs.xs.url = "github:cablehead/xs";
  
  outputs = { self, nixpkgs, xs }: {
    # Use xs.packages.${system}.default
  };
}
```
</TabItem>

</Tabs>

## Verifying Installation

For most installation methods:

```sh
xs --version
```

For Docker installations, verify the container is running:

```sh
curl http://localhost:3021/version
```

## Import `xs.nu`

<Aside title="optional">

`xs` is designed to be orchestrated with <Link to="nu" />, but it also works
great with any POSIX shell, so this step is optional.

For Docker installations, this is already done for you.

</Aside>

If you've never used <Link to="nu" /> before, you're in for a treat. Visit the
Nushell site to install it, then install the `xs.nu` helper module:

```sh
xs nu --install
```

This copies `xs.nu` into your Nushell scripts directory and creates an
autoload stub so the commands are available in every session. You can also run
`xs nu` without options to print the module contents and install it manually.

After installation, import the module:

```nushell
use xs.nu *
```

The commands default to working with a store at `~/.local/share/cross.stream/store`.
You can point commands at another location by setting `$env.XS_ADDR`.
For quick, ad-hoc changes use `with-env`:

```nushell
with-env {XS_ADDR: "./store"} { .cat }
```

The `xs` command-line tool still requires the store path to be specified
explicitly (for example `xs serve ./store`).

## Troubleshooting

- Need help? Join our [Discord](https://discord.com/invite/YNbScHBHrh)
