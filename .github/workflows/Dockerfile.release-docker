# Use a minimal Ubuntu base image
FROM ubuntu:latest

# Install necessary dependencies (optional)
RUN apt-get update && apt-get install -y libssl-dev

# Create a directory to store the Rust binary
WORKDIR /app

# Copy the release binary from the build output
COPY target/release/xs /usr/local/bin/xs

# Expose the port that `xs serve` will use
EXPOSE 8080

# Run the CLI tool in serve mode
CMD ["xs", "serve", "~/store"]
