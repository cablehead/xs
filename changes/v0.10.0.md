## Highlights

Modules live on the stream. Append any Nushell module as a `*.nu` topic and it
becomes available to actors, services, and actions via standard `use` imports:

```nushell
# register a module
http get https://example.com/discord.nu | .append discord.nu

# use it in an actor
r#'{
  run: {|frame, state|
    use discord
    discord channel message create $frame.meta.channel_id {content: "hi"}
    {next: $state}
  }
}'# | .append bot.register
```

Each processor snapshots the modules that existed at registration time, so
updating a module doesn't affect already-running processors until they are
re-registered.

Actors now thread state explicitly, matching Nushell's `generate` command:

```nushell
{
  initial: 0
  run: {|frame, state|
    let next = $state + 1
    {out: {count: $next}, next: $next}
  }
}
```

Return `{out: ..., next: ...}` to emit and continue, `{next: ...}` to skip
output, or `{out: ...}` / `null` to stop. The old single-parameter closure
shape is no longer supported.

Record output from all three processor types now goes to frame metadata by
default -- no CAS round-trip needed to read structured data. Non-record output
(strings, binary) requires `return_options: { target: "cas" }`.

The processor codebase has been reorganized: handlers, generators, and commands
are now **actors**, **services**, and **actions**, each running as independent
tasks under `src/processor/`.

Graceful shutdown: when xs receives a signal it emits `xs.stopping`, giving
services time to clean up before exit.

## Breaking changes

- feat!: actor closure shape matches nushell generate (#137)
- feat!: actor, service, and action record output goes to frame metadata by default
- refactor!: unified dispatcher with VFS module system (#136)
- refactor!: remove dispatcher, each processor owns its lifecycle
- refactor!: rename handlers -> actor, generators -> service, commands -> action
- refactor!: move processor modules under src/processor/ umbrella
- feat!: remove xs/ prefix from VFS module paths
- refactor!: replace .last -n flag with positional count
- refactor!: disallow numeric prefix in topic names

## Changelog

- feat: graceful shutdown via xs.stopping frame
- feat: add --with-timestamp flag to frame-returning endpoints
- fix: compact error messages for eval and connection failures
- fix: show helpful message when store is locked
- fix: include docs build in check.sh to catch MDX errors
- docs: align doc structure with Diataxis framework
- docs: add service lifecycle tutorial
- docs: add guidance on meta vs CAS for structured data
