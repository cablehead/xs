<section id="todos-section">
  {% if todos %}
  <ul>
    {% for todo in todos %}
    <li {% if todo.completed %} data-completed="true" {% endif %}>
      <label>
        <input
          type="checkbox"
          data-on-load="el.checked = {{ todo.completed | lower }}"
          data-on-click__prevent="@post('/todos/{{ todo.id }}/toggle')"
        />
        {{ todo.text }}
      </label>
      <button type="button" data-on-click="@delete('/todos/{{ todo.id }}')">
        Delete
      </button>
    </li>
    {% endfor %}
  </ul>
  {% else %}
  <p>No todos yet. Add one above!</p>
  {% endif %}

  <footer>
    <p>
      <strong>{{ active_count }}</strong> {% if active_count == 1 %}item{% else
      %}items{% endif %} pending
    </p>
    {% if completed_count > 0 %}
    <button type="button" data-on-click="@delete('/todos/completed')">
      Clear {{ completed_count }} completed {% if completed_count == 1 %}item{%
      else %}items{% endif %}
    </button>
    {% endif %}
  </footer>
  <div class="tracker-metrics">
    <div class="tracker-panel">
      <div class="tracker-label">INTERACTIONS</div>
      <div class="tracker-value">{{ interaction_count }}</div>
    </div>
    {% if time_to_first_view %}
    <div class="tracker-panel">
      <div class="tracker-label">TIME TO FIRST VIEW</div>
      <div class="tracker-value">{{ time_to_first_view }}ms</div>
    </div>
    {% endif %}
  </div>
</section>
