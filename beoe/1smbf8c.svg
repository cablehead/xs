<svg xmlns="http://www.w3.org/2000/svg" id="m07896130225804086-0" width="100%" aria-roledescription="stateDiagram" class="statediagram" style="font-family:arial,sans-serif;font-size:16px;fill:#333;max-width:1240.9820556640625px" viewBox="0 0 1240.982 582"><style>@keyframes edge-animation-frame{0%{stroke-dashoffset:0}}@keyframes dash{to{stroke-dashoffset:0}}#m07896130225804086-0 .edge-thickness-normal{stroke-width:1px}#m07896130225804086-0 .edge-pattern-solid{stroke-dasharray:0}#m07896130225804086-0 svg{font-family:arial,sans-serif;font-size:16px}#m07896130225804086-0 p{margin:0}#m07896130225804086-0 .transition{stroke:#333;stroke-width:1;fill:none}#m07896130225804086-0 .edgeLabel .label rect{fill:#ececff;opacity:.5}#m07896130225804086-0 .edgeLabel{text-align:center}#m07896130225804086-0 .edgeLabel,#m07896130225804086-0 .edgeLabel p{background-color:rgba(232,232,232,.8)}#m07896130225804086-0 .edgeLabel rect{opacity:.5;background-color:rgba(232,232,232,.8);fill:rgba(232,232,232,.8)}#m07896130225804086-0 .label div .edgeLabel{color:#333}#m07896130225804086-0 .node circle.state-start{fill:#333;stroke:#333}#m07896130225804086-0 .node rect,#m07896130225804086-0 .statediagram-cluster rect{fill:#ececff;stroke:#9370db;stroke-width:1px}#m07896130225804086-0 .nodeLabel{color:#131300}#m07896130225804086-0 .statediagram-state rect.basic{rx:5px;ry:5px}#m07896130225804086-0 .statediagram .edgeLabel{color:red}#m07896130225804086-0 :root{--mermaid-font-family:arial,sans-serif}</style><defs><marker id="m07896130225804086-0_stateDiagram-barbEnd" markerHeight="14" markerUnits="userSpaceOnUse" markerWidth="20" orient="auto" refX="19" refY="7"><path d="M19 7 9 13l5-6-5-6Z"/></marker></defs><g class="root"><g class="edgePaths"><path id="edge0" marker-end="url(#m07896130225804086-0_stateDiagram-barbEnd)" d="M389.699 22v74" class="edge-thickness-normal edge-pattern-solid transition" style="fill:none"/><path id="edge1" marker-end="url(#m07896130225804086-0_stateDiagram-barbEnd)" d="m347.011 123.725-45.385 8.212c-45.384 8.213-136.154 24.638-181.538 56.517S74.703 267.667 74.703 313s0 88.667 43.532 116.552 130.595 40.324 174.127 46.543l43.532 6.219" class="edge-thickness-normal edge-pattern-solid transition" style="fill:none"/><path id="edge3" marker-end="url(#m07896130225804086-0_stateDiagram-barbEnd)" d="M389.699 510v50" class="edge-thickness-normal edge-pattern-solid transition" style="fill:none"/><path id="edge2" marker-end="url(#m07896130225804086-0_stateDiagram-barbEnd)" d="m432.386 123.725 45.385 8.212c45.384 8.213 136.154 24.638 181.538 39.017s45.385 26.713 45.385 32.879V210" class="edge-thickness-normal edge-pattern-solid transition" style="fill:none"/><path id="edge12" marker-end="url(#m07896130225804086-0_stateDiagram-barbEnd)" d="M704.694 420v4.167c0 4.166 0 12.5-43.532 22.885s-130.595 22.824-174.127 29.043l-43.532 6.219" class="edge-thickness-normal edge-pattern-solid transition" style="fill:none"/></g><g class="edgeLabels"><g class="edgeLabel"><foreignObject width="101.391" height="24" class="label" transform="translate(339.003 47)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display:table-cell;white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>.register event</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="133.406" height="24" class="label" transform="translate(8 303)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display:table-cell;white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>nushell parse error</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display:table-cell;white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="67.594" height="24" class="label" transform="translate(670.897 161)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display:table-cell;white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>parse OK</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display:table-cell;white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g></g><g class="nodes"><g id="state-root_start-0" class="node default" transform="translate(389.699 15)"><circle r="7" class="state-start"/></g><g id="state-Activating-2" class="node statediagram-state" transform="translate(389.699 116)"><rect width="85.375" height="40" x="-42.688" y="-20" class="basic label-container" rx="5" ry="5"/><g class="label" transform="translate(-34.688 -12)"><rect/><foreignObject width="69.375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display:table-cell;white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Activating</p></span></div></foreignObject></g></g><g id="state-Unregistered-12" class="node statediagram-state" transform="translate(389.699 490)"><rect width="107.609" height="40" x="-53.805" y="-20" class="basic label-container" rx="5" ry="5"/><g class="label" transform="translate(-45.805 -12)"><rect/><foreignObject width="91.609" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display:table-cell;white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Unregistered</p></span></div></foreignObject></g></g><g class="root"><g class="clusters" transform="translate(168.406 202)"><g id="Active" class="statediagram-state statediagram-cluster" data-id="Active" data-look="classic"><rect width="1056.576" height="210" x="8" y="8" data-look="classic" style="rx:5px;ry:5px"/><foreignObject width="44.578" height="18" style="color:#131300" transform="translate(513.999 9)"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;padding-right:1px;white-space:nowrap"><span class="nodeLabel">Active</span></div></foreignObject><rect width="1056.576" height="186" x="8" y="28" style="rx:0;ry:0;fill:#fff"/></g></g><g class="edgePaths" transform="translate(168.406 202)"><path id="edge4" marker-end="url(#m07896130225804086-0_stateDiagram-barbEnd)" d="M59.5 117.5h75" class="edge-thickness-normal edge-pattern-solid transition" style="fill:none"/><path id="edge5" marker-end="url(#m07896130225804086-0_stateDiagram-barbEnd)" d="m232.3 97.5 16.7-7.667c16.7-7.666 50.1-23 81.722-28.272 31.622-5.273 61.466-.484 76.387 1.91l14.922 2.394" class="edge-thickness-normal edge-pattern-solid transition" style="fill:none"/><path id="edge6" marker-end="url(#m07896130225804086-0_stateDiagram-barbEnd)" d="m422.031 91.373-14.922 5.604c-14.921 5.605-44.765 16.814-74.609 21.64s-59.687 3.269-74.609 2.491l-14.922-.779" class="edge-thickness-normal edge-pattern-solid transition" style="fill:none"/><path id="edge7" marker-end="url(#m07896130225804086-0_stateDiagram-barbEnd)" d="m517.203 89.769 8.4 2.872c8.4 2.872 25.199 8.615 41.999 14.035 16.799 5.42 33.599 10.517 41.998 13.065l8.4 2.548" class="edge-thickness-normal edge-pattern-solid transition" style="fill:none"/><path id="edge8" marker-end="url(#m07896130225804086-0_stateDiagram-barbEnd)" d="m517.203 62.816 8.4-1.886c8.4-1.886 25.199-5.658 52.004-7.544S641.221 51.5 692.548 51.5s117.171 0 173.073 7.872S967.485 82.988 990.466 90.86l22.981 7.872" class="edge-thickness-normal edge-pattern-solid transition" style="fill:none"/><path id="edge9" marker-end="url(#m07896130225804086-0_stateDiagram-barbEnd)" d="m738.063 128.496 22.916-4.583c22.917-4.583 68.75-13.748 114.585-18.33C921.398 101 967.234 101 990.151 101h22.918" class="edge-thickness-normal edge-pattern-solid transition" style="fill:none"/><path id="edge10" marker-end="url(#m07896130225804086-0_stateDiagram-barbEnd)" d="m738.063 149.009 22.916 3.249c22.917 3.248 68.75 9.745 114.694 2.237s91.999-29.02 115.027-39.776l23.027-10.757" class="edge-thickness-normal edge-pattern-solid transition" style="fill:none"/><path id="edge11" marker-end="url(#m07896130225804086-0_stateDiagram-barbEnd)" d="m618 158.983-8.4 2.586c-8.399 2.586-25.199 7.759-49.929 10.345-24.731 2.586-57.392 2.586-96.576 2.586s-84.889 0-123.296-6.167c-38.406-6.166-69.513-18.5-85.067-24.666l-15.554-6.167" class="edge-thickness-normal edge-pattern-solid transition" style="fill:none"/></g><g class="edgeLabels"><g class="edgeLabel"><foreignObject width="0" height="0" class="label" transform="translate(168.406 202)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display:table-cell;white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="104.063" height="24" class="label" transform="translate(448.875 241.5)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display:table-cell;white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>event received</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="28.453" height="24" class="label" transform="translate(486.68 315)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display:table-cell;white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>skip</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="25.797" height="24" class="label" transform="translate(723.11 297)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display:table-cell;white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>yep</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="119.188" height="24" class="label" transform="translate(786.844 241.5)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display:table-cell;white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>.unregister event</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="127.188" height="24" class="label" transform="translate(980.375 291)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display:table-cell;white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>error encountered</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="200" height="48" class="label" transform="translate(943.969 346.5)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display:table;white-space:break-spaces;line-height:1.5;max-width:200px;text-align:center;width:200px"><span class="edgeLabel"><p>self-terminated (no next key)</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="23.125" height="24" class="label" transform="translate(626.46 364.5)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display:table-cell;white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>OK</p></span></div></foreignObject></g></g><g class="nodes" transform="translate(168.406 202)"><g id="state-Active_start-4" class="node default" transform="translate(52.5 117.5)"><circle r="7" class="state-start"/></g><g id="state-events.recv()-11" class="node statediagram-state" transform="translate(188.734 117.5)"><rect width="108.469" height="40" x="-54.234" y="-20" class="basic label-container" rx="5" ry="5"/><g class="label" transform="translate(-46.234 -12)"><rect/><foreignObject width="92.469" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display:table-cell;white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>events.recv()</p></span></div></foreignObject></g></g><g id="state-should_run-8" class="node statediagram-state" transform="translate(469.617 73.5)"><rect width="95.172" height="40" x="-47.586" y="-20" class="basic label-container" rx="5" ry="5"/><g class="label" transform="translate(-39.586 -12)"><rect/><foreignObject width="79.172" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display:table-cell;white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>should_run</p></span></div></foreignObject></g></g><g id="state-process_event-11" class="node statediagram-state" transform="translate(678.031 140.5)"><rect width="120.063" height="40" x="-60.031" y="-20" class="basic label-container" rx="5" ry="5"/><g class="label" transform="translate(-52.031 -12)"><rect/><foreignObject width="104.063" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display:table-cell;white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>process_event</p></span></div></foreignObject></g></g><g id="state-Active_end-10" class="node default"><path fill="#ECECFF" stroke-width="0" d="M1027.07 101a7 7 0 0 1-.423 2.394 7 7 0 0 1-1.216 2.106 7 7 0 0 1-1.862 1.562 7 7 0 0 1-2.284.832 7 7 0 0 1-2.431 0 7 7 0 0 1-2.285-.832 7 7 0 0 1-1.862-1.562 7 7 0 0 1-1.216-2.106 7 7 0 0 1-.422-2.394 7 7 0 0 1 .422-2.394 7 7 0 0 1 1.216-2.106 7 7 0 0 1 1.862-1.562 7 7 0 0 1 2.285-.832 7 7 0 0 1 2.43 0 7 7 0 0 1 2.285.832 7 7 0 0 1 1.862 1.562 7 7 0 0 1 1.216 2.106c.139.38.245.78.316 1.178.07.4.088 1.013.106 1.216s.018-.203 0 0"/><path fill="none" stroke="#333" stroke-width="2" d="M1027.07 101a7 7 0 0 1-.423 2.394 7 7 0 0 1-1.216 2.106 7 7 0 0 1-1.862 1.562 7 7 0 0 1-2.284.832 7 7 0 0 1-2.431 0 7 7 0 0 1-2.285-.832 7 7 0 0 1-1.862-1.562 7 7 0 0 1-1.216-2.106 7 7 0 0 1-.422-2.394 7 7 0 0 1 .422-2.394 7 7 0 0 1 1.216-2.106 7 7 0 0 1 1.862-1.562 7 7 0 0 1 2.285-.832 7 7 0 0 1 2.43 0 7 7 0 0 1 2.285.832 7 7 0 0 1 1.862 1.562 7 7 0 0 1 1.216 2.106c.139.38.245.78.316 1.178.07.4.088 1.013.106 1.216s.018-.203 0 0"/><path fill="#9370DB" stroke-width="0" d="M1022.57 101a2.5 2.5 0 0 1-.336 1.25 2.5 2.5 0 0 1-.915.915 2.5 2.5 0 0 1-1.25.335 2.5 2.5 0 0 1-1.25-.335 2.5 2.5 0 0 1-.915-.915 2.5 2.5 0 0 1-.335-1.25 2.5 2.5 0 0 1 .335-1.25 2.5 2.5 0 0 1 .915-.915 2.5 2.5 0 0 1 1.25-.335 2.5 2.5 0 0 1 1.25.335 2.5 2.5 0 0 1 .915.915 2.5 2.5 0 0 1 .297.816c.025.142.032.362.038.434s.006-.072 0 0"/><path fill="none" stroke="#9370DB" stroke-width="2" d="M1022.57 101a2.5 2.5 0 0 1-.336 1.25 2.5 2.5 0 0 1-.915.915 2.5 2.5 0 0 1-1.25.335 2.5 2.5 0 0 1-1.25-.335 2.5 2.5 0 0 1-.915-.915 2.5 2.5 0 0 1-.335-1.25 2.5 2.5 0 0 1 .335-1.25 2.5 2.5 0 0 1 .915-.915 2.5 2.5 0 0 1 1.25-.335 2.5 2.5 0 0 1 1.25.335 2.5 2.5 0 0 1 .915.915 2.5 2.5 0 0 1 .297.816c.025.142.032.362.038.434s.006-.072 0 0"/></g></g></g><g id="state-root_end-3" class="node default"><path fill="#ECECFF" stroke-width="0" d="M396.699 567a7 7 0 0 1-.423 2.394 7 7 0 0 1-1.215 2.106 7 7 0 0 1-1.862 1.562 7 7 0 0 1-2.285.832 7 7 0 0 1-2.43 0 7 7 0 0 1-2.285-.832 7 7 0 0 1-1.863-1.562 7 7 0 0 1-1.215-2.106 7 7 0 0 1-.422-2.394 7 7 0 0 1 .422-2.394 7 7 0 0 1 1.215-2.106 7 7 0 0 1 1.863-1.562 7 7 0 0 1 2.284-.832 7 7 0 0 1 2.431 0 7 7 0 0 1 2.285.832 7 7 0 0 1 1.862 1.562 7 7 0 0 1 1.215 2.106c.14.38.246.78.316 1.178.07.4.089 1.013.107 1.216.017.203.017-.203 0 0"/><path fill="none" stroke="#333" stroke-width="2" d="M396.699 567a7 7 0 0 1-.423 2.394 7 7 0 0 1-1.215 2.106 7 7 0 0 1-1.862 1.562 7 7 0 0 1-2.285.832 7 7 0 0 1-2.43 0 7 7 0 0 1-2.285-.832 7 7 0 0 1-1.863-1.562 7 7 0 0 1-1.215-2.106 7 7 0 0 1-.422-2.394 7 7 0 0 1 .422-2.394 7 7 0 0 1 1.215-2.106 7 7 0 0 1 1.863-1.562 7 7 0 0 1 2.284-.832 7 7 0 0 1 2.431 0 7 7 0 0 1 2.285.832 7 7 0 0 1 1.862 1.562 7 7 0 0 1 1.215 2.106c.14.38.246.78.316 1.178.07.4.089 1.013.107 1.216.017.203.017-.203 0 0"/><path fill="#9370DB" stroke-width="0" d="M392.199 567a2.5 2.5 0 0 1-.335 1.25 2.5 2.5 0 0 1-.915.915 2.5 2.5 0 0 1-1.25.335 2.5 2.5 0 0 1-1.25-.335 2.5 2.5 0 0 1-.915-.915 2.5 2.5 0 0 1-.335-1.25 2.5 2.5 0 0 1 .335-1.25 2.5 2.5 0 0 1 .915-.915 2.5 2.5 0 0 1 1.25-.335 2.5 2.5 0 0 1 1.25.335 2.5 2.5 0 0 1 .915.915 2.5 2.5 0 0 1 .297.816c.025.142.031.362.038.434s.006-.072 0 0"/><path fill="none" stroke="#9370DB" stroke-width="2" d="M392.199 567a2.5 2.5 0 0 1-.335 1.25 2.5 2.5 0 0 1-.915.915 2.5 2.5 0 0 1-1.25.335 2.5 2.5 0 0 1-1.25-.335 2.5 2.5 0 0 1-.915-.915 2.5 2.5 0 0 1-.335-1.25 2.5 2.5 0 0 1 .335-1.25 2.5 2.5 0 0 1 .915-.915 2.5 2.5 0 0 1 1.25-.335 2.5 2.5 0 0 1 1.25.335 2.5 2.5 0 0 1 .915.915 2.5 2.5 0 0 1 .297.816c.025.142.031.362.038.434s.006-.072 0 0"/></g></g></g></svg>